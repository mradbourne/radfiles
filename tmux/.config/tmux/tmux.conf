unbind r
bind r source-file ~/.config/tmux/tmux.conf

# Change prefix to ctrl+a
unbind-key C-b
set-option -g prefix C-Space
bind-key C-Space last-window

# Use same directory for new split + window
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"

# Vim-like pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Clear history
unbind -n C-k
bind -n C-k clear-history

# Git menu
bind g display-menu -t . -T "git" \
    checkout c \
        "display-menu -T \"checkout\"   existing o \"send-keys 'co' C-m\"    new b \"send-keys 'git checkout -b '\"" \
    add a \
        "send-keys 'git add -i' C-m" \
    commit m \
        "send-keys \"git commit -m ''\" Left"

# Use 256 colors
set -g default-terminal "screen-256color"
set -a terminal-overrides ",*256col*:RGB"

# Increase scrollback buffer size
set -g history-limit 50000

# Enable mouse
set -g mouse on

# Start window and pane numbering at 1 instead of 0
set -g base-index 1
setw -g pane-base-index 1

# Reduce esc delay
set -sg escape-time 10

# Use Vim shortcuts
setw -g mode-keys vi

# Add the current git branch to the status bar
set -g status-right-length 255
set -g status-right '#(cd #{pane_current_path}; git rev-parse --abbrev-ref HEAD)'

# Update status bar every second
set -g status-interval 1
